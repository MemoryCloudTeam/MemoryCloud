(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6411],{32769:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/review",function(){return n(63808)}])},50043:function(e,t,n){"use strict";n.d(t,{Db:function(){return a},Lp:function(){return i},wz:function(){return s}});var r=n(95740),l=n(53539);let i=l.Client.create(r.DW,String(r.pF)),o=async()=>{let e=await i.sp.getStorageProviders(),t=(null!=e?e:[]).filter(e=>e.endpoint.includes("nodereal"));return t},a=async()=>{let e=await o();return e.map(e=>{var t;return{address:e.operatorAddress,endpoint:e.endpoint,name:null===(t=e.description)||void 0===t?void 0:t.moniker}})},s=async()=>{var e;let t=await o(),n=Math.floor(Math.random()*t.length),r=[...t.slice(0,n),...t.slice(n+1)].map(e=>e.operatorAddress),l={id:t[n].id,endpoint:t[n].endpoint,primarySpAddress:null===(e=t[n])||void 0===e?void 0:e.operatorAddress,sealAddress:t[n].sealAddress,secondarySpAddresses:r};return l}},21418:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(67294),l=n(50043),i=n(95740);function o(e){return e?"fileList_".concat(e):""}function a(e,t,n,a,s,c){let[d,u]=(0,r.useState)([]),[f,v]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e||!t)return;let r=!1;return async function(){var c,d;v(!0),g(null);let f=function(e){if(!e)return null;let t=localStorage.getItem(o(e));if(!t)return null;try{let{data:n,timestamp:r}=JSON.parse(t);if(Date.now()-r<i.U$)return n;return localStorage.removeItem(o(e)),null}catch(t){return localStorage.removeItem(o(e)),null}}(e);if(f){u(f),v(!1);return}try{let r=await (0,l.wz)(),i=r.endpoint;if(!i){s&&a&&s({open:!0,message:a.createNoteFail}),g("endpoint missing"),u([]),v(!1);return}let f=await n.object.listObjects({bucketName:t,endpoint:i}),m=(null===(d=f.body)||void 0===d?void 0:null===(c=d.GfSpListObjectsByBucketNameResponse)||void 0===c?void 0:c.Objects)||[];u(m),"string"==typeof e&&localStorage.setItem(o(e),JSON.stringify({data:m,timestamp:Date.now()}))}catch(e){u([]),g((null==e?void 0:e.message)||"fetch error")}finally{r||v(!1)}}(),()=>{r=!0}},[e,t,n,a,s,c]),[d,f,m]}},11768:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var r=n(67294);let l=()=>{let[e,t]=r.useState(!1);return r.useEffect(()=>t(!0),[]),e}},63808:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(85893),l=n(67294),i=n(9008),o=n.n(i),a=n(80366),s=n(38793),c=n(50043),d=n(26558),u=n(56387),f=n(11768),v=n(21418);n(95740);var m=n(91895);let g={zh:{reviewListTitle:"复习",memoryCloudTitle:"记忆云",allReviewed:"恭喜，所有笔记都已复习完毕！",startReview:"开始复习",thinkingBefore:"请思考并输入你对该问题的回答",answer:"答案",inputRequired:"请输入你的思考内容",next:"下一步",scoreTitle:"请为本次记忆打分",thinkingAfter:"看到答案后，你的思考/补充（可选）",confirm:"确认",continue:"继续复习",finish:"结束复习",scoreRequired:"请为本次记忆打分",reviewing:"正在复习",reviewComplete:"本次复习已完成！",uploading:"正在上传...",uploadSuccess:"上传成功",uploadFail:"上传失败",loading:"加载中...",loadingAnswer:"答案加载中...",forgettingDegree:"遗忘度",reviewCount:"总复习次数",lastReviewTime:"上次复习时间",lastScore:"上次记忆度",prev:"上一步",backToList:"返回列表"},en:{reviewListTitle:"Review",memoryCloudTitle:"Memory Cloud",allReviewed:"Congratulations, all notes have been reviewed!",startReview:"Start Review",thinkingBefore:"Please think and enter your answer to this question",answer:"Answer",inputRequired:"Please enter your answer",next:"Next",scoreTitle:"Please rate your memory for this review",thinkingAfter:"Your thoughts/notes after seeing the answer (optional)",confirm:"Confirm",continue:"Continue Review",finish:"Finish Review",scoreRequired:"Please rate your memory for this review",reviewing:"Reviewing",reviewComplete:"Review session complete!",uploading:"Uploading...",uploadSuccess:"Upload success",uploadFail:"Upload failed",loading:"Loading...",loadingAnswer:"Loading answer...",forgettingDegree:"Forgetting Degree",reviewCount:"Total Review Count",lastReviewTime:"Last Review Time",lastScore:"Last Memory Degree",prev:"Previous",backToList:"Back to List"}},x=e=>e?"fileList_".concat(e):"",h=(e,t)=>{localStorage.setItem(x(e),JSON.stringify({data:t,timestamp:Date.now()}))};function b(e,t){let n=t+"review/";if(!e.startsWith(n))return 0;let r=e.slice(n.length),l=r.split("_");if(2===l.length){let e=parseInt(l[1],10);return isNaN(e)?0:e}return 0}function p(e){return Math.min(Math.log2(e+1)/Math.log2(31),1)}function w(e){return Math.pow(1-e/10,2)}function j(){let{lang:e,setLang:t}=(0,u.ZK)(),n=g[e],{address:i,connector:x}=(0,s.mA)(),j=i?"".concat(String(i).toLowerCase(),"-memorycloud"):"",[y,N]=(0,l.useState)([]),[O,S]=(0,l.useState)(0),[C,I]=(0,l.useState)(0),[A,k]=(0,l.useState)(""),[L,R]=(0,l.useState)(""),[T,D]=(0,l.useState)(5),[_,M]=(0,l.useState)(""),[E,B]=(0,l.useState)(""),[F,P]=(0,l.useState)(5),[$,z]=(0,l.useState)(!1),W=(0,f.t)(),[q,J]=(0,l.useState)(0),[U,Y]=(0,v.J)(i,j,c.Lp,n,void 0,q);(0,l.useEffect)(()=>{var e,t,n;if(!i)return;B("");let r=U.map(e=>{var t;return null===(t=e.ObjectInfo)||void 0===t?void 0:t.ObjectName}).filter(e=>!!e&&/^(.*)\/$/.test(e)&&e.indexOf("/")===e.length-1&&-1===e.slice(0,-1).indexOf("/")),l=r.map(e=>{var t,n;let r=U.filter(t=>{var n;let r=null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&r.startsWith(e+"review/")}).filter(t=>{var n;let r=null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&/^\d+_\d+$/.test(r.slice((e+"review/").length))}),l=U.filter(t=>{var n;let r=null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&r.startsWith(e)&&/^\d+$/.test(r.slice(e.length))&&-1===r.slice(e.length).indexOf("/")}),i=U.find(t=>{var n;return(null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName)===e}),o=r.map(e=>{var t;return(null===(t=e.ObjectInfo)||void 0===t?void 0:t.CreateAt)||0}),a=l.map(e=>{var t;return(null===(t=e.ObjectInfo)||void 0===t?void 0:t.CreateAt)||0}),s=(null==i?void 0:null===(t=i.ObjectInfo)||void 0===t?void 0:t.CreateAt)||0,c=0;c=o.length>0?Math.max(...o):a.length>0?Math.max(...a):s;let d=0;if(r.length>0){let t=r.reduce((e,t)=>{var n,r;return((null===(n=e.ObjectInfo)||void 0===n?void 0:n.CreateAt)||0)>((null===(r=t.ObjectInfo)||void 0===r?void 0:r.CreateAt)||0)?e:t});try{d=b((null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName)||"",e)}catch(e){d=0}}let u="";if(l.length>0){let e=l.reduce((e,t)=>{var n,r;return((null===(n=e.ObjectInfo)||void 0===n?void 0:n.CreateAt)||0)>((null===(r=t.ObjectInfo)||void 0===r?void 0:r.CreateAt)||0)?e:t});u=e.BodyText||""}let f=Math.floor(Date.now()/1e3),v=(f-c)/86400,m=p(v),g=1/(r.length+1),x=w(d);return{folder:e,lastReviewTime:c,reviewCount:r.length,lastScore:d,noteContent:u,score:.5*m+.3*g+.2*x}});console.log("【调试】所有笔记分数:",l.map(e=>({folder:e.folder,score:e.score}))),console.log("【调试】当前threshold:",F,"过滤条件:",F/10);let o=l.filter(t=>(null!==(e=t.score)&&void 0!==e?e:0)>F/10);console.log("【调试】过滤后待复习:",o.map(e=>({folder:e.folder,score:e.score}))),o.sort((e,r)=>(null!==(t=r.score)&&void 0!==t?t:0)-(null!==(n=e.score)&&void 0!==n?n:0)),N(o),S(0),I(0)},[i,e,F,U]),(0,l.useEffect)(()=>{var e,t,n;if(0!==O||!i)return;let r=U.map(e=>{var t;return null===(t=e.ObjectInfo)||void 0===t?void 0:t.ObjectName}).filter(e=>!!e&&/^(.*)\/$/.test(e)&&e.indexOf("/")===e.length-1&&-1===e.slice(0,-1).indexOf("/")),l=r.map(e=>{var t,n;let r=U.filter(t=>{var n;let r=null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&r.startsWith(e+"review/")}).filter(t=>{var n;let r=null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&/^\d+_\d+$/.test(r.slice((e+"review/").length))}),l=U.filter(t=>{var n;let r=null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&r.startsWith(e)&&/^\d+$/.test(r.slice(e.length))&&-1===r.slice(e.length).indexOf("/")}),i=U.find(t=>{var n;return(null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName)===e}),o=r.map(e=>{var t;return(null===(t=e.ObjectInfo)||void 0===t?void 0:t.CreateAt)||0}),a=l.map(e=>{var t;return(null===(t=e.ObjectInfo)||void 0===t?void 0:t.CreateAt)||0}),s=(null==i?void 0:null===(t=i.ObjectInfo)||void 0===t?void 0:t.CreateAt)||0,c=0;c=o.length>0?Math.max(...o):a.length>0?Math.max(...a):s;let d=0;if(r.length>0){let t=r.reduce((e,t)=>{var n,r;return((null===(n=e.ObjectInfo)||void 0===n?void 0:n.CreateAt)||0)>((null===(r=t.ObjectInfo)||void 0===r?void 0:r.CreateAt)||0)?e:t});try{d=b((null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName)||"",e)}catch(e){d=0}}let u="";if(l.length>0){let e=l.reduce((e,t)=>{var n,r;return((null===(n=e.ObjectInfo)||void 0===n?void 0:n.CreateAt)||0)>((null===(r=t.ObjectInfo)||void 0===r?void 0:r.CreateAt)||0)?e:t});u=e.BodyText||""}let f=Math.floor(Date.now()/1e3),v=(f-c)/86400,m=p(v),g=1/(r.length+1),x=w(d);return{folder:e,lastReviewTime:c,reviewCount:r.length,lastScore:d,noteContent:u,score:.5*m+.3*g+.2*x}}),o=l.filter(t=>(null!==(e=t.score)&&void 0!==e?e:0)>F/10);o.sort((e,r)=>(null!==(t=r.score)&&void 0!==t?t:0)-(null!==(n=e.score)&&void 0!==n?n:0)),N(o),I(0)},[O,i,F,U]);let G=e=>{I(e),S(1),k(""),R(""),D(5),M(y[e].noteContent||""),B("")},K=async()=>{if(!A.trim()){B(n.inputRequired);return}if(!T){B(n.scoreRequired);return}if(!i){B("address missing");return}B(n.uploading),z(!0);try{var e,t;let r=y[C].folder,l=U.filter(e=>{var t;let n=null===(t=e.ObjectInfo)||void 0===t?void 0:t.ObjectName;return"string"==typeof n&&n.startsWith(r+"review/")&&/^\d+_\d+$/.test(n.slice((r+"review/").length))}),o=0;l.forEach(e=>{var t;let n=null===(t=e.ObjectInfo)||void 0===t?void 0:t.ObjectName;if("string"==typeof n){let e=n.slice((r+"review/").length),t=e.split("_");if(2===t.length){let e=parseInt(t[0],10);!isNaN(e)&&e>o&&(o=e)}}});let a=o+1,s=r+"review/"+a+"_"+T,u=JSON.stringify({beforeNote:A,afterNote:L}),f=new File([u],String(a),{type:"application/json"}),v=await (0,c.wz)(),m=await (null==x?void 0:x.getProvider()),g=await (0,d.o)(i,m);if(!g){B("offChainData missing"),z(!1);return}await c.Lp.object.delegateUploadObject({bucketName:"".concat(i.toLowerCase(),"-memorycloud"),objectName:s,body:f,delegatedOpts:{visibility:1},onProgress:()=>{}},{type:"EDDSA",address:i,domain:window.location.origin,seed:g.seedString});try{let n=v.endpoint;if(!n)throw Error("endpoint missing");let r=await c.Lp.object.listObjects({bucketName:"".concat(i.toLowerCase(),"-memorycloud"),endpoint:n}),l=(null===(t=r.body)||void 0===t?void 0:null===(e=t.GfSpListObjectsByBucketNameResponse)||void 0===e?void 0:e.Objects)||[];h(i,l),J(e=>e+1),S(0)}catch(e){}B(n.uploadSuccess)}catch(e){B(n.uploadFail)}finally{z(!1)}};return(0,l.useEffect)(()=>{2===O&&i&&y[C]&&(M(""),(async()=>{var e;let t=y[C].folder,n=U.filter(e=>{var n;let r=null===(n=e.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&r.startsWith(t)&&/^\d+$/.test(r.slice(t.length))&&-1===r.slice(t.length).indexOf("/")});if(0===n.length){M("");return}let r=n.reduce((e,t)=>{var n,r;return((null===(n=e.ObjectInfo)||void 0===n?void 0:n.CreateAt)||0)>((null===(r=t.ObjectInfo)||void 0===r?void 0:r.CreateAt)||0)?e:t}),l=null===(e=r.ObjectInfo)||void 0===e?void 0:e.ObjectName;if(!l){M("");return}try{let e=await (null==x?void 0:x.getProvider()),t=await (0,d.o)(i,e);if(!t){M("");return}let n=await c.Lp.object.getObject({bucketName:"".concat(i.toLowerCase(),"-memorycloud"),objectName:l},{type:"EDDSA",address:i,domain:window.location.origin,seed:t.seedString});if(n&&n.body){let e=await n.body.text();M(e)}else M("")}catch(e){M("")}})())},[O,i,C,U]),n.forgettingDegree,(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"".concat(n.reviewListTitle," - ").concat(n.memoryCloudTitle)}),(0,r.jsx)("meta",{name:"description",content:n.reviewListTitle}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,r.jsx)(a.Z,{lang:e,setLang:t}),W?(0,r.jsxs)("main",{className:"min-h-[80vh] flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-8",children:[0===O&&(0,r.jsxs)("div",{className:"w-[420px] mt-6 mb-2 flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-cyan-400 font-semibold",children:n.forgettingDegree}),(0,r.jsx)("input",{type:"range",min:0,max:10,value:F,onChange:e=>P(Number(e.target.value)),className:"flex-1 accent-cyan-500 h-2 rounded-lg bg-slate-700/60"}),(0,r.jsxs)("span",{className:"text-cyan-400 font-bold",children:[10*F,"%"]})]}),Y&&(0,r.jsx)("div",{className:"text-slate-400 my-4",children:n.loading}),E&&(0,r.jsx)("div",{className:"text-orange-400 my-2",children:E}),0===O&&!Y&&(0===y.length?(0,r.jsx)("div",{className:"text-center mt-16",children:(0,r.jsx)("div",{className:"text-2xl mb-5 text-cyan-300 font-bold drop-shadow",children:n.allReviewed})}):(0,r.jsxs)("div",{className:"w-full max-w-[90vw] h-[520px] mt-6 bg-slate-800/80 rounded-3xl shadow-2xl p-0 flex flex-col justify-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-12 mt-10 text-center text-cyan-300 drop-shadow",children:n.reviewListTitle}),(0,r.jsx)("div",{className:"flex overflow-x-auto gap-8 px-10 pb-6 hide-scrollbar items-center h-full mt-[-56px]",children:y.map((e,t)=>{var l;if(e.reviewCount>0){let t=U.filter(t=>{var n;let r=null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName;return"string"==typeof r&&r.startsWith(e.folder+"review/")&&/^\d+_\d+$/.test(r.slice((e.folder+"review/").length))}),n=t.map(t=>{var n;let r=(null===(n=t.ObjectInfo)||void 0===n?void 0:n.ObjectName)||"",l=r.slice((e.folder+"review/").length).split("_");return 2===l.length?parseInt(l[1],10):0});n.length&&(n.reduce((e,t)=>e+t,0),n.length)}return(0,r.jsxs)("div",{className:"min-w-[400px] max-w-[400px] flex-shrink-0 bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 rounded-3xl shadow-2xl px-10 py-8 flex flex-col justify-between border border-cyan-500/30",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-lg text-cyan-200 mb-2 truncate",children:e.folder.slice(0,-1)}),(0,r.jsxs)("div",{className:"flex flex-col gap-1.5 mb-3",children:[(0,r.jsxs)("div",{className:"text-xs text-slate-400 flex justify-between",children:[(0,r.jsx)("span",{children:n.lastReviewTime}),(0,r.jsx)("span",{children:e.lastReviewTime?function(e,t){if(!e)return"";let n=new Date(1e3*e),r=n.getFullYear(),l=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0"),o=String(n.getHours()).padStart(2,"0"),a=String(n.getMinutes()).padStart(2,"0"),s=String(n.getSeconds()).padStart(2,"0");return"".concat(r,"-").concat(l,"-").concat(i," ").concat(o,":").concat(a,":").concat(s)}(e.lastReviewTime,0):"-"})]}),(0,r.jsxs)("div",{className:"text-xs text-slate-400 flex justify-between",children:[(0,r.jsx)("span",{children:n.reviewCount}),(0,r.jsx)("span",{className:"text-cyan-400 font-semibold",children:e.reviewCount})]}),(0,r.jsxs)("div",{className:"text-xs text-slate-400 flex justify-between",children:[(0,r.jsx)("span",{children:n.lastScore}),(0,r.jsxs)("span",{className:"text-cyan-400 font-semibold",children:[(10*e.lastScore).toFixed(0),"%"]})]}),(0,r.jsxs)("div",{className:"text-xs text-slate-400 flex justify-between",children:[(0,r.jsx)("span",{children:n.forgettingDegree}),(0,r.jsxs)("span",{className:"text-cyan-400 font-semibold",children:[((null!==(l=e.score)&&void 0!==l?l:0)*100).toFixed(0),"%"]})]})]})]}),(0,r.jsx)("button",{onClick:()=>G(t),className:"mt-5 w-full py-2 text-base rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold shadow hover:from-cyan-600 hover:to-blue-600 transition-all",children:n.startReview})]},e.folder)})})]})),1===O&&(0,r.jsxs)("div",{className:"w-[520px] bg-slate-900/90 rounded-2xl shadow-2xl border border-cyan-500/30 p-10 mt-16 flex flex-col items-center",children:[(0,r.jsx)("div",{className:"font-bold text-2xl mb-5 text-cyan-200",children:y[C].folder.slice(0,-1)}),(0,r.jsx)("div",{className:"text-cyan-400 text-base mb-5",children:n.thinkingBefore}),(0,r.jsx)("textarea",{value:A,onChange:e=>k(e.target.value),className:"w-full h-32 text-base rounded-lg bg-slate-800/60 border border-cyan-500/30 p-4 mb-5 resize-vertical text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/30",placeholder:n.thinkingBefore}),(0,r.jsxs)("div",{className:"flex w-full gap-4 justify-center mt-2",children:[(0,r.jsx)("button",{onClick:()=>S(0),className:"w-32 text-base rounded-lg px-0 py-2 bg-slate-700 text-cyan-400 font-bold border-0 shadow hover:bg-slate-800 transition-all",children:n.backToList||("zh"===e?"返回列表":"Back to List")}),(0,r.jsx)("button",{onClick:()=>{if(!A.trim()){B(n.inputRequired);return}S(2),B("")},className:"w-44 text-lg rounded-lg px-0 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold border-0 shadow hover:from-cyan-600 hover:to-blue-600 transition-all",children:n.next})]})]}),2===O&&(0,r.jsxs)("div",{className:"w-[520px] bg-slate-900/90 rounded-2xl shadow-2xl border border-cyan-500/30 p-10 mt-16 flex flex-col items-center",children:[(0,r.jsx)("div",{className:"font-bold text-2xl mb-5 text-cyan-200",children:n.answer}),(0,r.jsx)("div",{className:"w-full bg-slate-800/60 rounded-lg px-4 py-4 text-base text-slate-100 mb-5 min-h-[80px] flex items-center justify-center shadow-inner",children:Y?(0,r.jsx)("span",{className:"text-slate-400",children:n.loadingAnswer}):_}),(0,r.jsxs)("div",{className:"w-full mb-5",children:[(0,r.jsx)("label",{className:"text-base text-cyan-400 font-semibold",children:n.scoreTitle}),(0,r.jsx)("input",{type:"range",min:1,max:10,value:T,onChange:e=>D(Number(e.target.value)),className:"w-full accent-cyan-500 mt-2"}),(0,r.jsx)("div",{className:"text-right text-cyan-400 font-bold",children:T})]}),(0,r.jsx)("textarea",{value:L,onChange:e=>R(e.target.value),className:"w-full h-20 text-base rounded-lg bg-slate-800/60 border border-cyan-500/30 p-3 mb-5 resize-vertical text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/30",placeholder:n.thinkingAfter}),(0,r.jsxs)("div",{className:"flex w-full gap-4 justify-center",children:[(0,r.jsx)("button",{onClick:()=>{S(1),B("")},className:"w-32 text-base rounded-lg px-0 py-2 bg-slate-700 text-cyan-400 font-bold border-0 shadow hover:bg-slate-800 transition-all",children:n.prev||("zh"===e?"上一步":"Previous")}),(0,r.jsx)("button",{onClick:K,className:"w-44 text-lg rounded-lg px-0 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold border-0 shadow hover:from-cyan-600 hover:to-blue-600 transition-all",children:n.confirm})]})]}),3===O&&(0,r.jsxs)("div",{className:"w-[420px] bg-slate-900/90 rounded-2xl shadow-2xl border border-cyan-500/30 p-10 mt-16 flex flex-col items-center",children:[(0,r.jsx)("div",{className:"font-bold text-2xl mb-5 text-cyan-200",children:n.reviewComplete}),(0,r.jsx)("button",{onClick:()=>{S(0),B(""),N([])},className:"w-44 text-lg rounded-lg px-0 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold border-0 shadow hover:from-cyan-600 hover:to-blue-600 transition-all mb-4",children:n.backToList||("zh"===e?"返回复习列表":"Back to List")})]})]}):null,(0,r.jsx)(m.u,{open:$,message:n.uploading,onClose:()=>{}})]})}},26558:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=n(50043),l=n(95740);let i=async(e,t)=>{let n=localStorage.getItem(e);if(n){let t=JSON.parse(n);if(t.expirationTime<Date.now()){alert("Your auth key has expired, please generate a new one"),localStorage.removeItem(e);return}return t}let i=await (0,r.Db)(),o=await r.Lp.offchainauth.genOffChainAuthKeyPairAndUpload({sps:i,chainId:l.pF,expirationMs:432e6,domain:window.location.origin,address:e},t),{code:a,body:s}=o;if(0!==a||!s)throw o;return localStorage.setItem(e,JSON.stringify(s)),s}},9008:function(e,t,n){e.exports=n(42636)},993:function(){},46601:function(){},89214:function(){},85568:function(){},20131:function(){},16026:function(){},24654:function(){},88924:function(){},55024:function(){}},function(e){e.O(0,[3417,6792,3714,7878,1311,8742,6035,3631,9506,8764,7252,5640,5174,366,9774,2888,179],function(){return e(e.s=32769)}),_N_E=e.O()}]);